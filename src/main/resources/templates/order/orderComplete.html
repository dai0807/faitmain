<!DOCTYPE html>
<html layout:decorate = "~{/layout/default_layout}"
      xmlns:layout = "http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec = "http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset = "UTF-8">
    <title>주문 완료</title>

    <meta content = "width=device-width, initial-scale=1" name = "viewport">
    <!--===============================================================================================-->
    <link href = "/productDesign/images/icons/favicon.png" rel = "icon" type = "image/png"/>
    <!--===============================================================================================-->
    <link href = "/productDesign/vendor/bootstrap/css/bootstrap.min.css" rel = "stylesheet" type = "text/css">
    <!--===============================================================================================-->
    <link href = "/productDesign/fonts/font-awesome-4.7.0/css/font-awesome.min.css" rel = "stylesheet" type = "text/css">
    <!--===============================================================================================-->
    <link href = "/productDesign/fonts/iconic/css/material-design-iconic-font.min.css" rel = "stylesheet" type = "text/css">
    <!--===============================================================================================-->
    <link href = "/productDesign/fonts/linearicons-v1.0.0/icon-font.min.css" rel = "stylesheet" type = "text/css">

    <link href = "/productDesign/vendor/select2/select2.min.css" rel = "stylesheet" type = "text/css">

    <link href = "/productDesign/css/util.css" rel = "stylesheet" type = "text/css">
    <link href = "/productDesign/css/main.css" rel = "stylesheet" type = "text/css">

    <style>

        .form-group {
            margin-top: 10px;
        }

        h5, span {
            font-family: 'Nanum Gothic Coding', monospace;
        }


    </style>

    <script type = "text/javascript">
        $(function () {
            //==> DOM Object GET 3가지 방법 ==> 1. $(tagName) : 2.(#id) : 3.$(.className)
            $("#search").on("click", function () {
                fncGetList(1);
            });
        });
    </script>


</head>
<body>
<article class = "py-5" layout:fragment = "content">

    <!-- 주문완료 페이지 -->
    <form class = "bg0 p-t-75 p-b-85" method = "post" th:action = "">
        <div class = "container">
            <div class = "row">

                <!-- 상품 -->
                <div class = "col-lg-10 col-xl-7 m-lr-auto m-b-50">
                    <div class = "m-l-25 m-r--38 m-lr-0-xl">

                        <div class = "wrap-table-shopping-cart">
                            <h1 class = "page-header" style = "margin-bottom: 50px;">주문이 완료되었습니다.</h1>
                            <table class = "table-shopping-cart">
                                <tr class = "table_head">
<!--                                    <th class = "column-1"></th>-->
                                    <th class = "column-2">상품명</th>
                                    <th class = "column-3">적립포인트</th>
                                    <th class = "column-4">수량</th>
                                    <th class = "column-5">결제금액</th>
                                </tr>

                                <th:block th:each = "list : ${orderList}">
                                    <tr class = "table_row">
<!--                                        <td class = "column-1">-->
<!--                                            <div class = "how-itemcart">-->
<!--                                                <img class = "img_product" th:src = "|../img/upload/${list.productMainImage}|"/>-->
<!--                                            </div>-->
<!--                                        </td>-->
                                        <td class = "column-2">
                                            <a class = "stext-115 cl7 hov-cl1 size-213 p-t-18"
<!--                                               th:href = "@{/order/updateorder(orderNumber=${order.orderNumber})}"-->
                                               th:text = "${list.productName}">
                                            </a>
                                        </td>
                                        <td class = "column-3" th:text = "${#numbers.formatInteger(list.RewardPoint, 3, 'COMMA') + '원'}"></td>
                                        <td class = "column-4" th:text = "${list.productOrderCount}"></td>
                                        <td class = "column-5" th:text = "${#numbers.formatInteger(list.orderSalePrice, 3, 'COMMA') + '원'}"></td>
                                    </tr>
                                </th:block>
                            </table>
                        </div>
                    </div>
                </div>
                <!-- -->
                <!-- 주문자  -->
                <div class = "col-lg-10 col-xl-7 m-lr-auto m-b-50">
                    <div class = "m-l-25 m-r--38 m-lr-0-xl">

                        <div class = "wrap-table-shopping-cart">
                            <table class = "table-shopping-cart">
                                <tr class = "table_head">
                                    <th class = "column-1">주문자</th>
                                    <th class = "column-2">배송지</th>
                                    <th class = "column-3">전화번호</th>
                                    <th class = "column-4">주문상태</th>
                                </tr>
                            <!---->
                                <tr class = "table_row">
                                    <td class = "column-1" th:text = "${order.receiverName}"></td>
                                    <td class = "column-2" th:text = "|${order.receiverAddress1} ${order.receiverAddress2}|"></td>
                                    <td class = "column-3" th:text = "${order.receiverPhone}"></td>
                                    <td class = "column-4" th:text = "${order.orderStatus}"></td>
                                </tr>
                            <!---->
                            </table>
                        </div>
                    </div>
                </div>
                <!-- -->
            </div>
        </div>
    </form>
    <div class="row" style="margin: 80px 0; text-align: center;">
        <button class="btn btn-default back_btn">쇼핑을 계속하기</button>
        <button class="btn btn-default mycart_btn">장바구니로 이동하기</button>
    </div>



    <!-- Product 관련 js -->
    <script src = "/productDesign/vendor/jqueryui/jquery-ui.js"></script>
    <script src = "/productDesign/vendor/bootstrap/js/bootstrap.min.js"></script>
    <!-- ============ -->

    <!-- script -->
    <script>
        $(document).ready(function() {

            var userid = $("#login_userid").val();
            var productId = $("#productId").val();

            del_situ();


            $(".back_btn").click(function(event) {
                event.preventDefault();
                location.assign("/");
            });

            $(".mycart_btn").click(function(event) {
                event.preventDefault();
                location.assign("/order/mycart/" + userid);

            });

            $("li").on('click', function() {
                var productDist = $(this).attr("value");
                location.assign("/product/" + productDist);
            });

            $("#go_to_member_insert").click(function(event) {
                event.preventDefault();

                location.assign("/member/insert");
            });

            $("#mypage_btn").click(function(event) {
                event.preventDefault();
                var userid = $("#login_userid").val();

                location.assign("/member/read/" + userid);
            })

            $("#logout_btn").click(function(event) {
                event.preventDefault();

                var logout = confirm("로그아웃 하시겠습니까?");

                if (logout) {
                    location.assign("/member/logout");
                }
            });

            $("#go_to_adminPage").click(function(event) {
                event.preventDefault();

                location.assign("/admin/main");

            });

            $("#searchAdd").click(function(event) {
                event.preventDefault();
                postcode();

            });

            function del_situ() {
                var situ = "<c:out value='${dto.deliver_situ}'/>";
                if (situ == '0') {
                    situ = "배송 준비중";
                } else if (situ == '1') {
                    situ = "배송중";
                } else if (situ == '2') {
                    situ = "배송 완료";
                }

                $("#del_situ").html(situ);
            }

        });
    </script>
</article>
</body>
</html>