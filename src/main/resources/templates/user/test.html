<!DOCTYPE html>
<html
        xmlns:layout = "http://www.ultraq.net.nz/thymeleaf/layout"
        xmlns:sec="http://www.thymeleaf.org/extras/spring-security"  >
 <!--  MYPAGE 슈르르ㅡㄺ layout-->

<head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Nanum+Gothic+Coding:wght@400;700&display=swap" rel="stylesheet">
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
     <link href="@{/css/styles.css}" rel="stylesheet" />
</head>
    <title>  </title>


 <style>
	  .form-group{
 
		margin-top:10px ;
 	 
		}
		
		body{font-family: 'Nanum Gothic Coding', monospace;}
		 
    </style>


<script type="text/javascript">

</script>

<body>
<article  class="py-5" layout:fragment="content"  >

<!--   xmlns:sec="http://www.thymeleaf.org/extras/spring-security" 있어야 타임 리프에서 스프링 시큐리티 sec:authorize 값가져옴  -- >
<!-- 참고하실 사이트 \

https://velog.io/@on-n-on-turtle/SPRING-BOOT-%EC%8B%9C%ED%81%90%EB%A6%AC%ED%8B%B0-%ED%83%80%EC%9E%84%EB%A6%AC%ED%94%84-secauthorizeisAnonymous-Spring-Security-Thymleaf-Library-Spring-security-thwithauthauthentication.getPrincipal


 -- >
<div sec:authorize="isAuthenticated()">  모두 보기 가능 </div>
<div sec:authorize="hasRole('ROLE_admin')"> 권한이 어드민 </div>
<div sec:authorize="hasRole('ROLE_store')"> 권한이 store</div>
<div sec:authorize="hasRole('ROLE_storeX')"> 권한이 storeX </div>

<div sec:authorize="hasRole('ROLE_user')"> 권한이 User </div>


 name : <p th:text="${#authentication.name}"></p>

 principal 인증 대상에 관한 정보(user 정보 나옴, 타고타고 ): <p th:text="${#authentication.principal.user.id}">  </p>
 principal 인증 대상에 관한 정보(user 정보 나옴): <p th:text="${#authentication.principal}">  </p>

authenticated(인증 여부): <p th:text="${#authentication.authenticated}">  </p>

 
 <!--  밑은 , 컨트롤러에서 보내준 user 정보를 가져옴 -->
     
  아이디 : [[${user.id}]]  &nbsp; 이름 : &nbsp;  [[${user.name}]]  &nbsp; 주소1:  &nbsp; [[${user.userAddress1}]]    &nbsp; 주소2:&nbsp; [[${user.userAddress2}]]    &nbsp; 주소3:&nbsp; [[${user.userAddress3}]]  <br>
    &nbsp; 권한: [[${user.role}]]   
    
 </article>
<!--https://cornarong.tistory.com/73  참고파일  -->

 
</body>


</html>